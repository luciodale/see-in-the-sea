---
import { Picture } from 'astro:assets';
import { getLangFromUrl, getLocalizedPath } from '../../i18n';

type Props = {
  contest: {
    id: string;
    name: string;
    description: string | null;
    winningImage?: string;
  };
};

const { contest } = Astro.props;
const currentLang = getLangFromUrl(Astro.url);
---

<a
  href={getLocalizedPath(`/contest/${contest.id}`, currentLang)}
  class="w-full group block overflow-hidden bg-slate-800/40 border border-slate-700/50 rounded-lg backdrop-blur-sm transition-all duration-300 hover:bg-slate-700/60 hover:border-slate-600/70 hover:scale-105"
>
  <!-- Contest Image -->
  <div class="aspect-video overflow-hidden bg-slate-800/60">
    {
      contest.winningImage && (
        <Picture
          width={400}
          height={400}
          src={contest.winningImage}
          alt={contest.name}
          class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
        />
      )
    }
  </div>

  <!-- Card Content -->
  <div class="p-6 space-y-4">
    <!-- Contest Info -->
    <div class="gap-3 flex justify-between items-center">
      <h3 class="text-2xl font-light text-gray-50 tracking-wide">
        {contest.name}
      </h3>
      <div class="text-gray-400 group-hover:text-gray-300 transition-colors">
        <svg
          class="w-5 h-5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
      </div>
    </div>
  </div>
</a>
